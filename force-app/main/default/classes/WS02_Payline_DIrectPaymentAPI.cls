//Generated by wsdl2apex

public class WS02_Payline_DIrectPaymentAPI {
    
/**** DoReset Callout ****/
    public class doResetResponse_element {
        public WS02_Payline_Object.result result;
        public WS02_Payline_Object.transaction_x transaction_x;
        private String[] result_type_info = new String[]{'result','http://impl.ws.payline.experian.com',null,'1','1','false'};
        private String[] transaction_x_type_info = new String[]{'transaction','http://impl.ws.payline.experian.com',null,'1','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://impl.ws.payline.experian.com','true','false'};
        private String[] field_order_type_info = new String[]{'result','transaction_x'};
    }
    
    public class doResetRequest_element {
        public String version;
        public String transactionID;
        public String comment;
        public String media;
        private String[] version_type_info = new String[]{'version','http://impl.ws.payline.experian.com',null,'1','1','false'};
        private String[] transactionID_type_info = new String[]{'transactionID','http://impl.ws.payline.experian.com',null,'1','1','false'};
        private String[] comment_type_info = new String[]{'comment','http://impl.ws.payline.experian.com',null,'1','1','true'};
        private String[] media_type_info = new String[]{'media','http://impl.ws.payline.experian.com',null,'1','1','true'};
        private String[] apex_schema_type_info = new String[]{'http://impl.ws.payline.experian.com','true','false'};
        private String[] field_order_type_info = new String[]{'version','transactionID','comment','media'};
    }
    
/**** DoReset Callout ****/

/**** API Methods ****/
    public class DirectPaymentAPI {
        public String endpoint_x = 'DirectPaymentAPI';
        public Map<String,String> inputHttpHeaders_x;
        public Map<String,String> outputHttpHeaders_x;
        public String clientCertName_x;
        public String clientCert_x;
        public String clientCertPasswd_x;
        public Integer timeout_x = 60000;
        private String[] ns_map_type_info = new String[]{'http://impl.ws.payline.experian.com', 'WS02_Payline_DIrectPaymentAPI', 'http://obj.ws.payline.experian.com', 'WS02_Payline_Object'};

        public WS02_Payline_DIrectPaymentAPI.doResetResponse_element doReset(String version,String transactionID,String comment,String media) {
            STHEndpoints__c serviceConfig = [SELECT Id, Card_Payment_Endpoint__c, Card_Payment_Merchant_Id__c, Card_Payment_API_Key__c, Card_Payment_Shop_Id__c  
                                    FROM STHEndpoints__c
                                    WHERE Name = 'FRA' ];

            endpoint_x = serviceConfig.Card_Payment_Endpoint__c + endpoint_x;
            String key = EncodingUtil.base64Encode(Blob.valueof(serviceConfig.Card_Payment_Shop_Id__c + ':' + serviceConfig.Card_Payment_API_Key__c));

            inputHttpHeaders_x = new Map<String, String>();
            inputHttpHeaders_x.put('Authorization', 'Basic ' + key); //MTU1MzI0MDc1OTA0MDA6UjhlajczN0ZBb3ZJMWFvVzJoTnA=


            WS02_Payline_DIrectPaymentAPI.doResetRequest_element request_x = new WS02_Payline_DIrectPaymentAPI.doResetRequest_element();
            request_x.version = version;
            request_x.transactionID = transactionID;
            request_x.comment = comment;
            request_x.media = media;

            WS02_Payline_DIrectPaymentAPI.doResetResponse_element response_x;
            Map<String, WS02_Payline_DIrectPaymentAPI.doResetResponse_element> response_map_x = new Map<String, WS02_Payline_DIrectPaymentAPI.doResetResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
              this,
              request_x,
              response_map_x,
              new String[]{endpoint_x,
              'doReset',
              'http://impl.ws.payline.experian.com',
              'doResetRequest',
              'http://impl.ws.payline.experian.com',
              'doResetResponse',
              'WS02_Payline_DIrectPaymentAPI.doResetResponse_element'}
            );
            response_x = response_map_x.get('response_x');
            return response_x;
        }

    }
/**** / API Methods ****/

}